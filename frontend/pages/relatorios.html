<!-- Page Metadata -->
<div id="page-metadata" data-title="Relatorios" data-icon="fa-file-alt" style="display:none;"></div>

<div class="page-wrapper page-relatorios">
    <div class="page-header">
        <h1>Relatorios</h1>
        <p>Geracao de relatorios gerenciais e operacionais</p>
    </div>

    <div id="alertBox"></div>

    <div class="page-card filter-section">
        <h2>Filtros de Pesquisa</h2>

        <div class="form-grid">
            <div>
                <label>Data Inicial</label>
                <input type="date" id="dataInicial">
            </div>
            <div>
                <label>Data Final</label>
                <input type="date" id="dataFinal">
            </div>
            <div>
                <label>Hora Inicial</label>
                <input type="time" id="horaInicial">
            </div>
            <div>
                <label>Hora Final</label>
                <input type="time" id="horaFinal">
            </div>
        </div>

        <div class="form-grid">
            <div>
                <label>Placa</label>
                <input type="text" id="filtroPlaca" placeholder="ABC1D23">
            </div>
            <div>
                <label>Modelo</label>
                <input type="text" id="filtroModelo" placeholder="Ex: Corolla">
            </div>
            <div>
                <label>Unidade</label>
                <input type="text" id="filtroUnidade" placeholder="Ex: Gleba 93">
            </div>
            <div>
                <label>Nome / Morador</label>
                <input type="text" id="filtroNome" placeholder="Nome do morador/visitante">
            </div>
        </div>

        <div class="form-grid filter-row-tight">
            <div>
                <label>Tipo de Relatorio</label>
                <select id="tipoRelatorio">
                    <option value="todos">Todos</option>
                    <option value="moradores">Somente Moradores</option>
                    <option value="visitantes">Somente Visitantes</option>
                    <option value="prestadores">Somente Prestadores</option>
                </select>
            </div>
            <div class="inline-options">
                <label class="checkbox-group"><input type="checkbox" id="tipoMorador" checked> Morador</label>
                <label class="checkbox-group"><input type="checkbox" id="tipoVisitante" checked> Visitante</label>
                <label class="checkbox-group"><input type="checkbox" id="tipoPrestador" checked> Prestador</label>
                <label class="checkbox-group"><input type="checkbox" id="apenasLiberados"> Apenas Liberados</label>
            </div>
        </div>

        <div class="form-actions">
            <button type="button" class="btn-primary-modern" id="btnAplicarFiltros">
                <i class="fas fa-search"></i> Pesquisar
            </button>
            <button type="button" class="btn-export" id="btnExportarCsv">
                <i class="fas fa-file-csv"></i> Exportar CSV
            </button>
            <button type="button" class="btn-print" id="btnImprimirRelatorio">
                <i class="fas fa-print"></i> Imprimir
            </button>
            <button type="button" class="btn-clear" id="btnLimparFiltros">
                <i class="fas fa-eraser"></i> Limpar
            </button>
        </div>
    </div>

    <div class="page-card">
        <div class="stats">
            <div class="stat-card">
                <div class="value" id="totalRegistros">0</div>
                <div class="label">Total de Registros</div>
            </div>
            <div class="stat-card">
                <div class="value" id="totalMoradores">0</div>
                <div class="label">Moradores</div>
            </div>
            <div class="stat-card">
                <div class="value" id="totalVisitantes">0</div>
                <div class="label">Visitantes</div>
            </div>
            <div class="stat-card">
                <div class="value" id="totalPrestadores">0</div>
                <div class="label">Prestadores</div>
            </div>
            <div class="stat-card">
                <div class="value" id="totalLiberados">0</div>
                <div class="label">Acessos Liberados</div>
            </div>
        </div>

        <div class="search-box">
            <input type="text" id="buscaLocalRelatorio" placeholder="Filtro local na tabela...">
            <label class="audio-toggle">
                <input type="checkbox" id="habilitarSomRelatorios" checked>
                Som de feedback
            </label>
            <button class="btn-primary-modern" type="button" id="btnAtualizarRelatorio">
                <i class="fas fa-sync-alt"></i> Atualizar dados
            </button>
        </div>

        <div id="loadingRelatorios" class="loading" style="display:none;">
            <i class="fas fa-spinner fa-spin"></i>
            <p>Carregando registros...</p>
        </div>

        <div class="table-wrapper">
            <div class="table-container">
                <table id="relatorioTable">
                    <thead>
                        <tr>
                            <th>Data</th>
                            <th>Hora</th>
                            <th>Placa</th>
                            <th>Modelo</th>
                            <th>Cor</th>
                            <th>TAG</th>
                            <th>Tipo</th>
                            <th>Nome</th>
                            <th>Unidade</th>
                            <th>Dias Perm.</th>
                            <th>Status</th>
                            <th>Observacao</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </div>
</div>
